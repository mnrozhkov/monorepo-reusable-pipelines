schema: '2.0'
stages:
  collect_data:
    cmd:
    - mkdir -p data/i/raw
    - python ml/src/collect_data.py --target i --params pipeline_b_detect/i/params.yaml
    deps:
    - path: ml/src/collect_data.py
      hash: md5
      md5: 622a14e879e077e3ec7480459dcc4088
      size: 1229
    params:
      pipeline_b_detect/i/params.yaml:
        target: i
    outs:
    - path: data/i/raw/data.csv
      hash: md5
      md5: d7077e4392eb9f96b484eff38b52b44d
      size: 6897
  process_data:
    cmd:
    - mkdir -p data/i/processed
    - python ml/src/process_data.py --target i --params pipeline_b_detect/i/params.yaml
    deps:
    - path: data/i/raw/data.csv
      hash: md5
      md5: d7077e4392eb9f96b484eff38b52b44d
      size: 6897
    - path: ml/src/process_data.py
      hash: md5
      md5: 52b38150b3d1a9d87001eddb33c21f81
      size: 925
    params:
      pipeline_b_detect/i/params.yaml:
        target: i
    outs:
    - path: data/i/processed/data.csv
      hash: md5
      md5: d7077e4392eb9f96b484eff38b52b44d
      size: 6897
  train:
    cmd: python ml/src/train.py --type pipeline_b_detect --target i --params pipeline_b_detect/i/params.yaml
    deps:
    - path: data/i/processed/data.csv
      hash: md5
      md5: d7077e4392eb9f96b484eff38b52b44d
      size: 6897
    - path: ml/src/train.py
      hash: md5
      md5: b165e2c6e7136187d27fe804d9fb86b2
      size: 2985
    params:
      pipeline_b_detect/i/params.yaml:
        train:
          epochs: 30
          batch_size: 16
          learning_rate: 0.01
    outs:
    - path: pipeline_b_detect/i/models/model_pipeline_b_detect_i.file
      hash: md5
      md5: 6ca8e70a47a14bd97e189cae6086f167
      size: 6477
    - path: pipeline_b_detect/i/results/metrics.json
      hash: md5
      md5: 7d522e4282d008a7bf26f4cf5ca0e112
      size: 39
      cloud:
        remote-i:
          etag: 7d522e4282d008a7bf26f4cf5ca0e112
          version_id: FKuJbDANuhhZGMdGceH8pGL_mNkCZhsH
    - path: pipeline_b_detect/i/results/plots/metrics/accuracy.tsv
      hash: md5
      md5: 1b7e835eddf5cc4629a7c0dcb5afae62
      size: 184
      cloud:
        remote-i:
          etag: 1b7e835eddf5cc4629a7c0dcb5afae62
          version_id: cGIUs8u4Psi_7duIPf82Dmknj_sYZxRZ
